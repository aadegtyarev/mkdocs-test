# WB-MR6C v.2: Errata

## ERRMR01: Регистры дискретных входов содержат 0 вместо фактического сигнала после включения

**Подверженные устройства**

WB-MR (кроме WB-MRPS6) и WB-MWAC с прошивкой 1.9.х 1.10.х

**Описание**

После подачи питания и включения модуля реле его входы не считываются, в регистрах дискретных входов установлены значения 0 даже если на вход подается 1. Значение становится актуальным при первом переключении входа.

**Запланированное исправление**

Исправлено в 1.11.1.

При включении устройства состояние его входов попадает в регистры дискретных входов. При этом выход никак не реагирует и либо отключен, либо загружает состояние перед выключением из памяти если эта функция включена в регистре 6. Маппинг матрица не обрабатывает вход. Только если настроен режим работы входа — 5 (датчики протечки с повторением через 20 минут) происходит обработка входа как события и реакция на него через маппинг матрицу. Все реакции выполняются после дальнейших изменений входов.

## ERRMR02: Безопасный режим отключает реле независимо от обмена по modbus

**Подверженные устройства**

Все WB-MR с прошивкой 1.15.0 и 1.15.1

**Описание**

После записи в регистр 8 значения отличного от 0 запускается таймер. По истечении соответствующего временного интервала происходит отключение всех реле. При приеме пакета по modbus таймер не перезапускается.

**Запланированное исправление**

Исправлено в 1.15.2.

Таймер перезапускается после каждого полученного пакета по modbus.

## ERRMR03: Зависание устройства после полутора месяцев непрерывной работы

**Подверженные устройства**

Все WB-MR с прошивкой 1.15.0 и 1.15.1 1.15.2

**Описание**

После полутора месяцев непрерывной работы устройство перестает реагировать на отправленные команды, не обновляет значения в регистрах, но продолжает отвечать по Modbus.

**Запланированное исправление**

Исправлено в 1.15.3

## ERRMR04: Неверные значения температуры и напряжения питания микроконтроллера

**Подверженные устройства**

Все WB-MR аппаратной ревизии "на микроконтроллере GD32" с прошивкой 1.16.0

**Запланированное исправление**

Исправлено в 1.16.1

## ERRMR05: Неправильно работает монитор питания

**Подверженные устройства**

Все WB-MR с прошивкой 1.16.0

**Описание**

АЦП преобразует вход с напряжением питания раз в 100 мс. Если состояние реле сохраняется и менялось сразу перед пропаданием питания, то вероятна ситуация в которой АЦП не узнает о том что питание пропало за время пока разряжаются конденсаторы и не сохранит состояние реле.

**Запланированное исправление**

Вход напряжения питания измеряется непрерывно.

Исправлено в 1.16.1

## ERRMR06: Провалы до нулевых значений при измерении частоты

**Подверженные устройства**

Все WB-MR с прошивкой от 1.15.0 до 1.16.2 включительно

**Описание**

При использовании входов WB-MR в режиме измерения частоты периодически возникают провалы до нулевых значений, если частота входного сигнала около ~1 кГц.

**Запланированное исправление**

Исправлено в 1.16.3

## ERRMR07: Нестабильная работа опроса по modbus

**Подверженные устройства**

Все WB-MR с прошивкой до 1.16.2 включительно

**Описание**

Устройство периодически перестает отвечать на modbus-команды. Отсутствие ответа обнаружено при опросе устройств на скорости 115200 бод.

**Запланированное исправление**

Исправлено в 1.16.3

## ERRMR08: Самопроизвольное отключение включенного реле при понижении напряжения питания модуля

**Подверженные устройства**

Все WB-MR и WB-MWAC с прошивкой до 1.17.1 включительно

**Описание**

Выявленные неисправности:

- При понижении напряжения питания модуля (например, при переходе с основного питания 24 В на резервное 12 В) включенные реле модуля могут самопроизвольно перейти в отключенное состояние.
- При питании от Vout контроллера Wiren Board и включённой настройке «Восстанавливать состояние входов при подаче питания» (регистр 6 = 1) — модуль может перезагрузиться из-за просадки напряжения.

**Пути обхода**

- Использовать источники основного и резервного питания модуля с одинаковым напряжением.
- Подключать устройство к отдельному мощному источнику питания.

**Запланированное исправление**

Исправлено в 1.17.2.

## ERRMR09: Скачки показаний при измерении частоты на входах

**Подверженные устройства**

Все WB-MR и WB-MRWM2 с прошивкой до 1.17.4 включительно

**Описание**

Проблема проявляется при измерении частоты сигнала на входах WB-MR и WB-MRWM2. Если частота входного сигнала сначала была высокой, а затем стала меньше 1 Гц, то некоторое время возможны скачки до высокого значения частоты. При этом если импульсы пропадают(частота становится равной 0 Гц) то проблема не проявляется.

В связи с тем, что в WB-MRWM2 для реализации измерения мощности установлен преобразователь напряжение-частота, то при отключении нагрузки некоторое время наблюдаются скачки показаний мощности до того значения, при котором произошло отключение реле.

**Запланированное исправление**

Исправлено в 1.17.5.
